<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <title>Micro Tienda</title>
</head>
<body>
    <header class="main-header">
        <!-- Sección Izquierda: Categorías y Logo -->
        <div class="header-left">
            <button class="categories-btn" aria-label="Categorías">
                <img src="/static/img/categories.svg" alt="Categorías" width="20" height="20" />
                <span class="categories-text">Categorías</span>
            </button>
            <a href="/" class="logo">
                <img src="/static/img/logo.svg" alt="Micro Tienda" />
            </a>
        </div>
        
        <!-- Sección Centro: Búsqueda (Desktop) -->
        <div class="header-center">
            <div class="search-bar" role="search">
                <img class="search-icon" src="/static/img/search.svg" alt="Buscar" width="18" height="18" />
                <input type="search" name="q" placeholder="Busca tu producto..." aria-label="Buscar"
                       hx-get="/api/v1/search-suggestions"
                       hx-trigger="input changed delay:300ms"
                       hx-target="#search-results"
                       autocomplete="off" />
            </div>
            <div id="search-results" class="search-results"></div>
        </div>
        
        <!-- Sección Derecha: Búsqueda (Mobile), Usuario y Carrito -->
        <div class="header-right">
            <button class="search-btn mobile-only" aria-label="Buscar"
                    hx-get="/api/v1/mobile-search"
                    hx-target="#mobile-search-container"
                    hx-swap="innerHTML">
                <img src="/static/img/search.svg" alt="Buscar" width="20" height="20" />
            </button>
            <button class="user-btn" aria-label="Usuario">
                <img src="/static/img/user.svg" alt="Usuario" width="20" height="20" />
            </button>
            <button class="cart-btn" aria-label="Carrito">
                <img src="/static/img/cart.svg" alt="Carrito" width="20" height="20" />
                <span class="cart-count">0</span>
            </button>
        </div>
    </header>
    
    <!-- Contenedor para búsqueda móvil -->
    <div id="mobile-search-container"></div>
    
    {% block content %}
    {% endblock %}
</body>
</html>
